# Process of writing non fiction books using AI and Deep Research

1. Starts with the idea of the book. A description input by the user of up to 100 words. A button to Generate book ideas generates 3 book ideas randomly. This is done by an LLM Agent.
2. Then the structure of the book is determined. The structure contains the chapter titles, subchapter titles, a summary of the subject matter in each chapter and subchapter, and how it connects to other chapters and subchapters (so that the book feels a whole unit) This will be a multi step iterative process.
   1. Initial structure is proposed based on the idea by an agent.
   2. Then another agent comes and critiques it, proposes improvements.
   3. A third agent then improves the structure.
   4. A fourth agent comes again with critique and suggestions.
   5. A fifth agent then implements the critique.
   6. A sixth agent then comes again with critique.
   7. A seventh agent then implements the final suggestions and outputs the final structure. The book structure must be a structured output, as the book will then be processed step by step, subchapter by subchapter.
3. Book title determination. At this step one agent will output 5 different titles for this book, based on the structure previously determined. The user will then choose one title, or add it to shortlist, or it will have the option to regenerate another set of 5 titles. At the end of this process, the book title in English will have been chosen.
4. The research foundation. Based on the final structure of the book and the research guidelines provided by the user (a 500 word text input by the user), a research assistant agent will propose three research tasks for Deep Research. These will be three prompts that will be copied and pasted in ChatGpt or Gemini Deep Research, for gathering solid info for the subject matter of the book. Deep Research is a function where very smart LLMs can research different topics on the web, and output a polished and structured document based on the research. A second research assistant agent then reviews the prompts, and suggests improvements. The third agent then outputs the final prompts. These prompts are then copied by the user, pasted in the AI apps, and then the docx documents generated by Deep Research are uploaded back into the app.
5. Parsing the research. At this process, based on the three deep research documents and the structure of the book, each subchapter of the book gets associated with different research facts from the documents. The research facts are summarized and included in the book structure. This will again be a 3 step process, where agent 1 will propose the facts for first subchapter, agent 2 will reanalyse and propose improvements and agent 3 will output the final subchapter structure. This process will go on throughout all the structure of the book, subchapter by subchapter. The result of this step will be the fact that all the subchapters of the book will have all the necessary facts summarized inside them. No facts from the docx documents should be left out, except for serious reasons. Also, facts in the book should not be repeated except for obvious reasons. Also, the facts from research should be included with quoting reputable sources (journals, scientists, researchers, etc). So each agent will have the access to the whole book structure and all the three docx before adding facts to its subchapter, thus making sure facts will not be either redundant or missing.
6. The emotional layer of the book.  A good book does not only spit empty facts. The reader must also be emotionally engaged. The author must tell relatable and gripping stories that drive home the facts presented in the book. For this, a very good author persona must be created - and coherent stories must be told about his life, that relate to the subject matter of the book. Every chapter must be approached in an interesting manner, beginning with an interesting story,  or example. Also, great analogies and examples must be used to make complex subjects easier to grasp for the readers.This step enriches the book structure by adding this emotional layer to each subchapter, in a similar 3 step process as the previous phase. Each agent will again have access to the whole book structure, including the emotional layers added in previous subchapters, to make sure the stories, approaches, examples, analogies, are coherent with the previous layers and that they are not redundant or contradictory. With this step completed, we will have the finalised book structure.
7. Proper writing. With the complete structure of the book created, a set of 7 agents will write the book subchapter by subchapter. The inputs for the agents will be the finalised book structure,  the book title and the final guidelines provided by the creative director. The assistant creative director will be an agent that reviews the book structure, and outputs guidelines for writing each subchapters in a structured format. If the book will have 23 subchapters, there will be 23 sets of guidelines. The assistant creative director will provide the initial guidelines, then a critic creative director will critique them and offer suggestions. Then the final creative director will output the final guidelines which will be used by the writer agents for every subchapter of the book written. Now to the writing process: There will be an initial writer agent, and two other kinds of agents: the critical review agent, and the implementation agent. The critical review agent takes the previous draft, the creative director guidelines, and provides a critical review with suggestions for improvements. Then the implementation agent will take the suggestion for improvements list, along with the previous draft, and implement it creating the improved draft. This process repeats 3 times. So there will be initial writer, critic 1, implementation 1, critic 2, implementation 2, critic 3, implementation 3 - for a total of 7 steps.

## Agents roster & roles

### Phase 1 — Ideation

A1: Idea Generator
Input: up to 100-word idea or empty.
Output: {ideas:[{id, blurb, angle, target_audience}]} (3 items when “Generate” is clicked).
Rubric: diversity of angles, clear audience, novelty score.

### Phase 2 — Structure (7-agent iterative loop)

S1: Structure Architect (Propose)
Builds initial BookStructure from the chosen idea.
S2: Structural Critic I
Checks scope, balance, prerequisite ordering, cross-chapter coherence; returns a critique object with issues ranked.
S3: Structural Editor I (Implement)
Applies S2’s critique → structure_v2.
S4: Structural Critic II
Emphasizes redundancy detection, missing bridge sections, learning curve.
S5: Structural Editor II (Implement)
Applies S4 → structure_v4.
S6: Structural Critic III
Emphasizes narrative flow, reader journey, and integration logic (connections density/coverage).
S7: Structural Editor III (Finalize)
Applies S6 and outputs structure_final (strictly validates schema; freezes IDs).
Note: These can be one model with role prompts, but the Conductor treats them as distinct agents for traceability.

### Phase 3 — Title selection

T1: Titler
Input: structure_final.
Output: 5 English titles + subtitles, each with a positioning rationale and SEO angle.
UI supports shortlist/regenerate; chosen title stored in BookStructure.title_working.

### Phase 4 — Research foundation (prompt triad)

R1: Prompt Architect
Drafts 3 Deep-Research prompts aligned to structure and user’s 500-word guidelines; each specifies scope, must-answer questions, deliverable format & citation requirements.
R2: Prompt Critic
Stress-tests for leakage, breadth vs depth, and verifiability; returns improvements.
R3: Prompt Finalizer
Outputs final 3 prompts for copy/paste.

### Phase 5 — Parse & map research (per subchapter; 3-agent micro-loop)

I0: Research Ingestor (tool)
Parses uploaded DOCX → chunks → candidate facts with citations.
M1: Fact Selector (Propose)
For a given subchapter, proposes a set of facts (adds fact_ids + summaries to research_facts).
M2: Fact Critic
Checks against global coverage (no fact left behind), removes duplicates, flags weak sourcing, enforces quote length.
M3: Fact Implementer (Finalize)
Applies M2; writes final research_facts into subchapter with normalized citations.

### Phase 6 — Emotional layer (per subchapter; 3-agent micro-loop)

E1: Persona & Hook Writer (Propose)
Generates anecdote/analogy/example aligned with persona and prior continuity.
E2: Emotional Critic
Flags tone drift, redundancy with earlier stories, ethical concerns, and cultural sensitivity.
E3: Emotional Implementer (Finalize)
Commits emotional_layer to subchapter.

### Phase 7 — Proper writing

Guidelines triad (once, produces per-subchapter packs)
G1: Assistant Creative Director (ACD)
Produces initial guidelines for each subchapter.
G2: Critic Creative Director (CCD)
Tightens thesis, audience pitfalls, and fact alignment.
G3: Final Creative Director (FCD)
Outputs final guidelines packs.

7-step writing loop per subchapter
W1: Initial Writer
Drafts v0 following guidelines; must reference must_include_facts.
W2: Critical Reviewer I
Line-level and macro critique; fact coverage & citation style; returns actionable bullet list.
W3: Implementation I
Applies W2 → v1.
W4: Critical Reviewer II
Focus on flow, transitions, and reader momentum; returns actions.
W5: Implementation II
Applies W4 → v2.
W6: Critical Reviewer III
Final pass: clarity, rhythm, and factual soundness; checks for any uncovered facts.
W7: Implementation III
Applies W6 → v3 and marks subchapter “Ready for copy-edit”.
